# EditVid

動画に字幕（テロップ）を追加できるWebアプリケーション。

## 概要

EditVidは、ブラウザ上で動画をアップロードし、タイムラインを操作しながら字幕を追加・編集できるツールです。編集完了後、字幕付きの動画をエクスポートしてダウンロードできます。

### 主な機能

- 🎬 **動画アップロード**: ドラッグ&ドロップまたはファイル選択で動画をアップロード
- 📝 **字幕追加**: 再生位置に合わせてテロップを追加
- ⚙️ **字幕カスタマイズ**: フォントサイズ、文字色、背景色、不透明度を調整可能
- 👁️ **プレビュー機能**: 追加した字幕のプレビューを確認
- 💾 **ローカル保存**: 字幕データと設定をブラウザのLocalStorageに自動保存
- 🎥 **動画エクスポート**: FFmpegで字幕を焼き込んだ動画を出力

## 技術スタック

### フロントエンド
- **React 19** + **TypeScript**
- **Vite** (ビルドツール)
- **Tailwind CSS** (スタイリング)

### バックエンド
- **Python** + **FastAPI**
- **FFmpeg** (動画処理)

## ディレクトリ構造

```
edit-vid/
├── frontend/          # フロントエンド (React + Vite)
│   ├── src/           # Reactコンポーネント
│   ├── dist/          # ビルド出力
│   └── package.json
├── backend/           # バックエンド (FastAPI)
│   └── main.py        # APIエンドポイント
├── uploads/           # アップロードされた動画
├── exports/           # エクスポートされた動画
├── Dockerfile
├── pyproject.toml
└── README.md
```

## 開発環境のセットアップ

### 必要条件
- Python 3.13+
- Node.js 24+
- FFmpeg
- [uv](https://docs.astral.sh/uv/) (Pythonパッケージマネージャ)

### バックエンドのセットアップ

```bash
# 依存関係のインストール
uv sync

# 開発サーバーの起動
uv run fastapi dev backend/main.py --port 8000
```

### フロントエンドのセットアップ

```bash
cd frontend

# 依存関係のインストール
npm install

# 開発サーバーの起動
npm run dev
```

### 本番ビルド

```bash
cd frontend
npm run build
```

ビルド後、`backend/main.py` を起動すると `frontend/dist` の静的ファイルが配信されます。

## Dockerでの実行

```bash
# イメージのビルド
docker build -t edit-vid .

# コンテナの起動
docker run -p 8000:8000 edit-vid
```

## 使い方

1. **動画をアップロード**: トップページで動画ファイルをドラッグ&ドロップまたはクリックして選択
2. **字幕を追加**: 動画を再生し、好きなタイミングでテキストと表示時間を入力して「追加」
3. **スタイルを調整**: 右側の設定パネルでフォントサイズや色をカスタマイズ
4. **プレビュー**: タイムラインの「プレビュー」ボタンで字幕の見た目を確認
5. **エクスポート**: 「出力」ボタンで字幕付き動画を生成・ダウンロード

## 注意事項

- アップロードされた動画と生成された動画はサーバーに一時保存されます
- 「クリア」ボタンでサーバー上のキャッシュとブラウザのデータを削除できます
- 字幕データはブラウザのLocalStorageに保存されるため、同じ動画を再度アップロードすると自動的に復元されます
